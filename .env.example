# =============================================================================
# Cost Watchdog - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values.
# NEVER commit .env files to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Required in production. For local dev, matches docker-compose.yml defaults.
DATABASE_URL="postgresql://cost_watchdog:cost_watchdog_dev@localhost:5432/cost_watchdog?schema=public"

# -----------------------------------------------------------------------------
# Redis (for BullMQ job queues)
# -----------------------------------------------------------------------------
# Required in production. For local dev, matches docker-compose.yml defaults.
REDIS_URL="redis://localhost:6379"

# -----------------------------------------------------------------------------
# S3/MinIO (Document Storage)
# -----------------------------------------------------------------------------
# All S3_* variables are REQUIRED in production.
# For local dev, defaults point to MinIO from docker-compose.yml.
S3_ENDPOINT="http://localhost:9000"
S3_BUCKET="cost-watchdog"
S3_ACCESS_KEY="minio_admin"
S3_SECRET_KEY="minio_admin_dev"
S3_REGION="eu-central-1"

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# REQUIRED: Minimum 32 characters. Generate with: openssl rand -base64 32
# This is used for JWT signing and cookie encryption.
AUTH_SECRET="your-secret-here-min-32-chars-long"

# Optional: Separate secret for cookies (defaults to AUTH_SECRET if not set)
# COOKIE_SECRET="another-secret-here-min-32-chars"

# Optional: Email address for the initial admin user
# The first user to register with this email will become an admin.
# If not set, all users will be created as 'viewer' role.
# INITIAL_ADMIN_EMAIL="admin@example.com"

# App URL for CORS configuration
AUTH_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# LLM Integration (for PDF extraction fallback)
# -----------------------------------------------------------------------------
# Optional: Only needed if using LLM-based document extraction
ANTHROPIC_API_KEY="sk-ant-..."

# -----------------------------------------------------------------------------
# Email (Resend)
# -----------------------------------------------------------------------------
# Optional: Only needed for email alerts
RESEND_API_KEY="re_..."
EMAIL_FROM="noreply@costwatchdog.com"
EMAIL_REPLY_TO="support@costwatchdog.com"

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV="development"
API_URL="http://localhost:3001"
WEB_URL="http://localhost:3000"

# =============================================================================
# Production Checklist:
# =============================================================================
# Before deploying to production, ensure:
# [ ] AUTH_SECRET is a strong, unique secret (32+ chars)
# [ ] DATABASE_URL points to managed PostgreSQL (e.g., RDS, Cloud SQL)
# [ ] REDIS_URL points to managed Redis (e.g., ElastiCache, Memorystore)
# [ ] S3_* variables point to real S3/compatible storage with proper IAM
# [ ] NODE_ENV is set to "production"
# [ ] All secrets are injected via secrets manager, not .env files
# =============================================================================
